<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ruminate">
<title>Noncompartmental Analysis • ruminate</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Noncompartmental Analysis">
<meta property="og:description" content="ruminate">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ruminate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--tutorial">
    <span class="fas fa fas fa-chalkboard-teacher"></span>
     
    Tutorial
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--tutorial">
    <a class="external-link dropdown-item" href="https://vimeo.com/user3889152/ruminate">Video Tutorial</a>
    <a class="dropdown-item" href="../articles/noncompartmental_analysis.html">Non-Compartmental Analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fas fa fas fa-hat-wizard"></span>
     
    Functions
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fas fa fas fa-rss"></span>
     
    News
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/john-harrold/ruminate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Noncompartmental Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/john-harrold/ruminate/blob/HEAD/vignettes/noncompartmental_analysis.Rmd" class="external-link"><code>vignettes/noncompartmental_analysis.Rmd</code></a></small>
      <div class="d-none name"><code>noncompartmental_analysis.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Non-compartmental analysis (NCA) is a simple and quick method for
evaluating the exposure of a drug. It allows you to evaluate things like
linearity and in vivo exposure. To illustrate this consider an antibody
given in a subcutaneous injection. The actual exposure profile a patient
might experience is given in the solid black line in the left panel. But
we don’t yet have the ability to sample in a continuous fashion. What we
might observer is given by the blue points.</p>
<p><img src="noncompartmental_analysis_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
<p>Generally NCA will determine the following directly from the
data:</p>
<ul>
<li>
<code>Cmax</code> - Maximum observed concentration
(units=concentration)</li>
<li>
<code>Tmax</code> - The time where the maximum concentration was
observed (units=time)</li>
<li>
<code>AUC</code> - The area under the curve (<span class="math inline">\(units=time \times concentration\)</span>)</li>
<li>
<code>AUMC</code> - The area under the first moment curve (<span class="math inline">\(units=time^2 \times concentration\)</span>)</li>
</ul>
<p>These properties are all based on observational data. So the
<code>Cmax</code> and <code>Tmax</code> will most certainly not be at
the actual maximum concentration but as long as we sample judiciously it
will give us a good approximation. Similarly, the calculated
<code>AUC</code> and <code>AUMC</code> will be different than the actual
values. To calculate the areas you need to dig back into your calculus
text books to the trapezoid method. Basically each sampling interval is
a trapezoid and the area of each is calculated and added up for all of
the <code>n</code> samples:</p>
<p><span class="math display">\[
\begin{eqnarray}
AUC  &amp;=&amp; \int_0^{t_f} Cdt
&amp;\approx  \sum_{i=1}^{n-1}{\frac{C_i+C_{i+1}}{2}\times
(t_{i+1}-t_{i})}  \\
AUMC &amp;=&amp; \int_0^{t_f} t\times Cdt
&amp;\approx  \sum_{i=1}^{n-1}{\frac{t_iC_i+t_{i+1}C_{i+1}}{2}\times
(t_{i+1}-t_{i})}
\end{eqnarray}
\]</span></p>
<p>This can be done in Excel pretty easily. Depending on the data and
the analysis other properties can be calculated. For example we can
calculate the clearance, mean residence time, steady-state volume of
distribution and terminal half-life:</p>
<ul>
<li>Clearance: <span class="math inline">\(CL =
\frac{Dose}{AUC}\)</span>
</li>
<li>Mean residence time: <span class="math inline">\(MRT =
\frac{AUMC}{AUC}\)</span>
</li>
<li>Steady state volume of distribution: <span class="math inline">\(V_{ss} = MRT \times CL\)</span>
</li>
<li>Half-life: Terminal slope of the natural log of the data</li>
</ul>
<p>Properties like AUC and AUMC can also be be calculated using
extrapolation from the last time point to infinity to account for data
beyond the observations at hand. The subsequent values of clearance,
volumes of distribution, etc can also change with extrapolation.</p>
<p>There is a lot of nuance associated with these calculations, and it
is good to rely on software that focuses on this type of analysis. The
<a href="https://billdenney.github.io/pknca/" class="external-link">PKNCA</a> package has been developed with this in mind. The
ruminate app provides an interface to functionality found in
<a href="https://billdenney.github.io/pknca/" class="external-link">PKNCA</a> and will generate code you can use to get started
with <a href="https://billdenney.github.io/pknca/" class="external-link">PKNCA</a>.</p>
</div>
<div class="section level2">
<h2 id="data-format">Data format<a class="anchor" aria-label="anchor" href="#data-format"></a>
</h2>
<p>To run NCA you need your data formatted in a specific way. The names
of the columns can be defined by the user. Some columns are required,
others are optional, and others are only required depending on how the
user wants to specify dosing. See below for a general description of the
columns followed by more information about how dosing is inferred:</p>
<ul>
<li>
<strong>Subject ID:</strong> Unique id for each subject in the
dataset (required)</li>
<li>
<strong>Time:</strong> Observation time since the first dose
(required)</li>
<li>
<strong>Nominal Time:</strong> Time since the most recent dose
(optional, needed to determine dosing from columns)</li>
<li>
<strong>Dose:</strong> Amount of dose (required)</li>
<li>
<strong>Concentration:</strong> Observed concentration (NA for
missing values, required)</li>
<li>
<strong>Route:</strong> Dosing route (intravascular or
extravascular, required)</li>
<li>
<strong>Other Grouping:</strong> Other columns used for grouping
(optional)</li>
<li>
<strong>Dose Duration:</strong> Duration of infusion (optional)</li>
<li>
<strong>Dosing Cycle or Period:</strong> The most recent dose cycle
or period (optional, needed for dosing from columns)</li>
<li>
<strong>Event ID:</strong> EVID column from NONMEM used to
distinguish dosing and observation records (optional, needed for dosing
from rows)</li>
<li>
<strong>Analyte:</strong> Used if multiple analytes are present in
the dataset (optional)</li>
</ul>
<div class="section level3">
<h3 id="dosing-records">Dosing records<a class="anchor" aria-label="anchor" href="#dosing-records"></a>
</h3>
<p>Dosing will be extracted from the datasets. It can be incorporated in
two ways. One is that the dosing information is stored in columns of the
dataset. This is the simplest and most straight forward way of storing
the dosing information. The other method is that dosing is specified as
individual records (rows) in the dataset (if your data is formatted for
NONMEM, you can use this). Note that <strong>Dose</strong> and
<strong>Concentration</strong> need to have the same mass units.</p>
<div class="section level4">
<h4 id="determining-dosing-from-columns">Determining dosing from columns<a class="anchor" aria-label="anchor" href="#determining-dosing-from-columns"></a>
</h4>
<p>Beyond the required columns to infer dosing from columns you must
also have the following columns defined: <strong>Dose</strong>,
<strong>Dosing Cycle or Period</strong>, and <strong>Nominal
Time</strong>.</p>
</div>
<div class="section level4">
<h4 id="determining-dosing-from-rows-nonmem-format">Determining dosing from rows (NONMEM format)<a class="anchor" aria-label="anchor" href="#determining-dosing-from-rows-nonmem-format"></a>
</h4>
<p><strong>Dose</strong> and <strong>Event ID</strong></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by John Harrold.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
